{"status":"failed","errors":[{"file":"nginx.template","error":"[Errno 2] No such file or directory: 'mime.types'","line":16}],"config":[{"file":"nginx.template","status":"failed","errors":[{"error":"[Errno 2] No such file or directory: 'mime.types'","line":16}],"parsed":[{"directive":"events","line":3,"args":[],"block":[{"directive":"worker_connections","line":4,"args":["1024"]}]},{"directive":"worker_processes","line":10,"args":["16"]},{"directive":"http","line":15,"args":[],"block":[{"directive":"include","line":16,"args":["mime.types"],"includes":[]},{"directive":"default_type","line":17,"args":["application/octet-stream"]},{"directive":"log_format","line":19,"args":["main","$remote_addr - $remote_user [$time_local] \"$request\"","$status $body_bytes_sent \"$http_referer\" ","\"$http_user_agent\" \"$http_x_forwarded_for\""]},{"directive":"sendfile","line":24,"args":["on"]},{"directive":"tcp_nopush","line":25,"args":["on"]},{"directive":"tcp_nodelay","line":26,"args":["on"]},{"directive":"keepalive_timeout","line":32,"args":["120s"]},{"directive":"keepalive_requests","line":33,"args":["100000"]},{"directive":"resolver","line":36,"args":["127.0.0.11","ipv6=off"]},{"directive":"lua_package_path","line":38,"args":["/usr/local/openresty/nginx/lua-scripts/?.lua;/usr/local/openresty/luajit/share/lua/5.1/?.lua;;"]},{"directive":"lua_shared_dict","line":40,"args":["config","32k"]},{"directive":"init_by_lua_block","line":42,"args":["\n    local upload = require \"resty.upload\"\n    local memcached = require \"resty.memcached\"\n    local mongo = require \"resty-mongol\"\n  "]},{"directive":"server","line":48,"args":[],"block":[{"directive":"listen","line":51,"args":["8080","reuseport"]},{"directive":"server_name","line":52,"args":["localhost"]},{"directive":"access_log","line":56,"args":["off"]},{"directive":"client_max_body_size","line":59,"args":["100M"]},{"directive":"client_body_buffer_size","line":60,"args":["100M"]},{"directive":"location","line":64,"args":["/upload-media"],"block":[{"directive":"if","line":65,"args":["$request_method","=","OPTIONS"],"block":[{"directive":"add_header","line":66,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":67,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":68,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":69,"args":["Access-Control-Max-Age","1728000"]},{"directive":"add_header","line":70,"args":["Content-Type","text/plain; charset=utf-8"]},{"directive":"add_header","line":71,"args":["Content-Length","0"]},{"directive":"return","line":72,"args":["204"]}]},{"directive":"if","line":74,"args":["$request_method","=","POST"],"block":[{"directive":"add_header","line":75,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":76,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":77,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":78,"args":["Access-Control-Expose-Headers","Content-Length,Content-Range"]}]},{"directive":"if","line":80,"args":["$request_method","=","GET"],"block":[{"directive":"add_header","line":81,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":82,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":83,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":84,"args":["Access-Control-Expose-Headers","Content-Length,Content-Range"]}]},{"directive":"content_by_lua","line":86,"args":["\n        local client = require \"upload-media\"\n        client.UploadMedia();\n      "]}]},{"directive":"location","line":94,"args":["/get-media"],"block":[{"directive":"if","line":95,"args":["$request_method","=","OPTIONS"],"block":[{"directive":"add_header","line":96,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":97,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":98,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":99,"args":["Access-Control-Max-Age","1728000"]},{"directive":"add_header","line":100,"args":["Content-Type","text/plain; charset=utf-8"]},{"directive":"add_header","line":101,"args":["Content-Length","0"]},{"directive":"return","line":102,"args":["204"]}]},{"directive":"if","line":104,"args":["$request_method","=","POST"],"block":[{"directive":"add_header","line":105,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":106,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":107,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":108,"args":["Access-Control-Expose-Headers","Content-Length,Content-Range"]}]},{"directive":"if","line":110,"args":["$request_method","=","GET"],"block":[{"directive":"add_header","line":111,"args":["Access-Control-Allow-Origin","*"]},{"directive":"add_header","line":112,"args":["Access-Control-Allow-Methods","GET, POST, OPTIONS"]},{"directive":"add_header","line":113,"args":["Access-Control-Allow-Headers","DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range"]},{"directive":"add_header","line":114,"args":["Access-Control-Expose-Headers","Content-Length,Content-Range"]}]},{"directive":"content_by_lua","line":116,"args":["\n        local client = require \"get-media\"\n        client.GetMedia();\n      "]}]}]}]}]}]}
